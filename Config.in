config NETBOX_PLAT
	string
	default "basis"   if BR2_arm926t
	default "coronet" if BR2_powerpc
	default "dagger"  if BR2_arm
	default "envoy"   if BR2_aarch64
	default "zero"    if BR2_x86_64
	default BR2_ARCH

choice
	bool "type"
	default NETBOX_TYPE_APP
	help
	  Select the NetBox type to build.

config NETBOX_TYPE_APP
	bool "Application (LXC)"
	help
	  Application container image for the chosen CPU platform.

config NETBOX_TYPE_OS
	bool "Operating System (kernel + userland)"
	help
	  Complete operating system, including kernel and userland,
	  for the chosen CPU platform.
	  .
	  This is the same as the application build, with the kernel,
	  and optionally a (second) stage bootloader.
endchoice

config NETBOX_TYPE
	string
	default "app" if NETBOX_TYPE_APP
	default "os"  if NETBOX_TYPE_OS

config NETBOX_META_PACKAGE
	bool "NetBox meta package"
	select BR2_PACKAGE_LIBNL
	select BR2_PACKAGE_DNSMASQ
	select BR2_PACKAGE_DROPBEAR
	select BR2_PACKAGE_ETHTOOL
	select BR2_PACKAGE_INADYN
	select BR2_PACKAGE_IPROUTE2
	select BR2_PACKAGE_NFTABLES
	select BR2_PACKAGE_QUAGGA
	select BR2_PACKAGE_QUAGGA_ZEBRA
	select BR2_PACKAGE_QUAGGA_ISISD
	select BR2_PACKAGE_QUAGGA_OSPFD
	select BR2_PACKAGE_QUAGGA_OSPF6D
	select BR2_PACKAGE_QUAGGA_RIPD
	select BR2_PACKAGE_QUAGGA_RIPNGD
	select BR2_PACKAGE_QUAGGA_VTYSH
	select BR2_PACKAGE_SMCROUTE
	select BR2_PACKAGE_SOCAT
	help
	  This selects all packages that comprise NetBox.
	  .
	  Unchecking this makes the build system revert back to its
	  default extended Buildroot state.

menu "Developer"

config NETBOX_IMAGE_FIT
	bool "Build FIT image"
	depends on NETBOX_TYPE_OS
	help
	  Build an FIT image with all device trees in boot/, creating a
	  configuration for each, the default kernel and the SquashFS as
	  a ramdisk.

	  This is useful for testing NetBox on systems which do not have
	  a bootloader capable of loading standard images, e.g. U-Boot
	  on various evaluation/development boards.

endmenu

menu "Packages"

source "$BR2_EXTERNAL_NETBOX_PATH/package/Config.in"

endmenu
